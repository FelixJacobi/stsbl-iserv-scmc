stsbl-iserv-scmc (17.07.09-0) experimental; urgency=medium

  [ Felix Jacobi ]
  * Updated build rules.
  * Added favicon to proxy.
  * Added fugue copyright.
  * Added basic room whitelist management.
  * RoomWhitelistAdmin: Fixed single item title.
  * Moved Scmc setter and getter to Trait.
  * Added support for whitelist configuration.

  iserv: Die neue Version unterhält nun Unterstützung für eine weiße Liste von
    Räumen. Geräte, dessen Räume sich nicht auf dieser Liste befinden, wird
    stattdessen eine "Zugriff verweigert"-Meldung angezeigt und darauf
    hingewiesen, von wo aus der Zugriff erlaubt ist. Diese Liste kann in IServ
    3 unter Verwaltung » Zeugnisverwaltung » Zulässige Räume bearbeitet
    werden. Außerdem wird nun eine verständlichere Fehlermeldung angezeigt,
    wenn der Zeugnisserver nicht erreichbar sein sollte.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Sun, 09 Jul 2017 00:43:56 +0200

stsbl-iserv-scmc (17.07.07-2) experimental; urgency=medium

  [ Felix Jacobi ]
  * Renamed virtual hosts from 00* to 01* to prevent wrong user homepage handling.
  * Adjusted apache config for Let's Encrypt.
  * Updated build rules.
  * Remove server config on package removal.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Fri, 07 Jul 2017 04:40:12 +0200

stsbl-iserv-scmc (17.07.07-1) experimental; urgency=medium

  [ Felix Jacobi ]
  * Added webroot and redirection config.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Fri, 07 Jul 2017 03:44:04 +0200

stsbl-iserv-scmc (17.07.07-0) experimental; urgency=medium

  [ Felix Jacobi ]
  * Added basic reverse proxy support.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Fri, 07 Jul 2017 03:16:07 +0200

stsbl-iserv-scmc (17.06.30-2) experimental; urgency=medium

  [ Felix Jacobi ]
  * Added missing l10n.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Fri, 30 Jun 2017 20:14:38 +0200

stsbl-iserv-scmc (17.06.30-1) experimental; urgency=medium

  [ Felix Jacobi ]
  * Added support for Stadtteilschule with Years from 5 to 10.
  * Updated l10n.

  iserv: Das Modul unterstützt nun auch die Jahrauswahl für Stadtteilschulen,
    die nur die Jahrgänge 5 bis 10 anbieten. Dies kann in der Konfiguration
    eingestellt werden, die Oberstufen-Jahrgänge werden dann entsprechend in
    der Jahresauswahl beim Download/Upload ausgeblendet.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Fri, 30 Jun 2017 20:10:17 +0200

stsbl-iserv-scmc (17.06.30-0) experimental; urgency=medium

  [ Felix Jacobi ]
  * Moved KernelResponse handling from ScmcAuth to own event subscriber class.
  * Updated l10n.
  * Force https also on EntryPoint.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Fri, 30 Jun 2017 20:02:32 +0200

stsbl-iserv-scmc (17.06.20-1) experimental; urgency=medium

  [ Felix Jacobi ]
  * SCMC.pm: Added missing Log.pm import.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Tue, 20 Jun 2017 15:39:02 +0200

stsbl-iserv-scmc (17.06.20-0) experimental; urgency=medium

  [ Felix Jacobi ]
  * legacy: Fixed master password migrating.
  * Moved empty master password checking to scmcadm.
  * Expire scmc login log older than six months.
  * Updated l10n.
  * Moved setting of user passwords to scmcadm.
  * Moved deleting of user passwords to scmcadm.
  * Fixed encoding of logs.
  * Database: Limit access to scmc_userpasswords web interface to SELECT.
  * Removed database table and user for legacy session management.
  * Added iservchk script to remove old session user and table.
  * Moved master password updating to scmcadm.
  * Dropped legacy session code.
  * Moved traits to Controller folder.
  * Removed legacy session commands.
  * Fixed empty master password handling.
  * Removed legacy session cleanup.
  * Replaced SecurityTrait with Sensio annotations.
  * Moved download logging to scmcadm
  * Fixed old security call.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Tue, 20 Jun 2017 15:07:50 +0200

stsbl-iserv-scmc (17.06.19-3) experimental; urgency=medium

  [ Felix Jacobi ]
  * postgresql: adding missing sed script.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Mon, 19 Jun 2017 22:17:53 +0200

stsbl-iserv-scmc (17.06.19-2) experimental; urgency=medium

  [ Felix Jacobi ]
  * Use standard passwd path.
  * iservchk: Fixed permissions of passwd files.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Mon, 19 Jun 2017 22:03:40 +0200

stsbl-iserv-scmc (17.06.19-1) experimental; urgency=medium

  [ Felix Jacobi ]
  * Added legacy scripts to upgrade old password system.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Mon, 19 Jun 2017 21:54:00 +0200

stsbl-iserv-scmc (17.06.19-0) experimental; urgency=medium

  [ Felix Jacobi ]
  * Fixed build deps.
  * Added missing iservcfg file.; Updated l10n.
  * Added support for scmcauthd.
  * Added upgrade script to convert passwd file.
  * Added dependency on scmcauthd.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Mon, 19 Jun 2017 21:46:22 +0200

stsbl-iserv-scmc (17.06.17-2) experimental; urgency=medium

  [ Felix Jacobi ]
  * Added missing iservchk script.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Sat, 17 Jun 2017 03:20:56 +0200

stsbl-iserv-scmc (17.06.17-1) experimental; urgency=medium

  [ Felix Jacobi ]
  * Added missing iservcfg l10n.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Sat, 17 Jun 2017 01:49:37 +0200

stsbl-iserv-scmc (17.06.17-0) experimental; urgency=medium

  [ Felix Jacobi ]
  * Updated install file.
  * Updated build deps and rules.
  * scmcadm: syntax fixes.
  * Implemented year-based restriction.
  * Fixed and improved deleting of temporary files.
  * Authentificate with clear password instead of password hash to prevent 
    attacks with stolen password hashes.
  * role definition: Fixed module name.
  * Added UploadSSHKeyAction.
  * scmcadm: Switched to qx for php sub process.
  * User password management: Reworked route generation.
  * Disabled unused status menu for now.
  * Added content for index action.
  * session login: Switched to hash_equals.
  * Implemented ScmcService.
  * ManagementController: Removed unused use statements.
  * Implemented ssh key uploading.
  * Fixed host editing.
  * Added safe key deleting after server deleting.
  * Implemented logging on server {adding,deleting,editing}.
  * Added DeleteSSHKeyAction.
  * ScmcAdmin service: Fixed usage with empty token attribute.
  * Switched server handling and key storing to nummeric ids.
  * Added help text to server form fields.
  * Improved form of UploadSSHKeyAction.
  * Added deletion of SSH keys.
  * Added extended domain validation.
  * Added custom message for account validation.
  * Updated l10n.
  * Removed h1 titles in management section.

  iserv: Die neue Version enthält diverse neue Funktionen: Zum einem können
    nun gezielt die Kurslisten einzelne Jahrgänge von den verbundenen Zeugnisservern 
    hoch- und heruntergeladen werden. Damit die Funktion ordnungsgemäß funktioniert, stellen
    Sie bitte unter iserv > Modul: Zeugnisverwlatungsconnector > Schultyp die
    Form Ihrer Schule (Gymnasium oder Stadtteilschule) ein. Als Administrator
    kann der SSH-Schlüssel, der für das Hoch- und Herunterladen benötigt wird, nun direkt 
    über die Oberfläche hinterlegt sowie gelöscht werden. Die Startseite der
    des Zeugnisverwalter-Bereiches enthält außerdem nun eine Überblick über
    die zehn zuletzt durchgeführten Download- und Upload-Aktionen.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Sat, 17 Jun 2017 01:39:58 +0200

stsbl-iserv-scmc (17.06.12-0) experimental; urgency=medium

  [ Felix Jacobi ]
  * Fixed l10n.
  * Added module specific menu.; Improved cs.; Replaced patch with sed script.
  * Added basic data downloading.
  * Improved logging.
  * Fixed login.
  * MasterPasswordCommand: Use password generation from PasswordUtil.
  * Added/Improved data cleanup.
  * Added cron job to expire scmc sessions.
  * Implemented basic data upload.
  * Enabled livesearch for group filter in user password management.
  * Added iservcfg menu to reset master password.
  * Fixed undefined subroutine in iservcfg script.
  * Fixed back title.
  * Added basic server management.
  * Added missing files.
  * Added required dependencies.
  * Added required dependency on libswitch-perl.
  * Improved iservcfg script.
  * Updated rules script.
  * Implemented up- and downloading with real server data.
  * Updated l10n.
  * Improved constraint of Server entity.
  * ServerAdmin: Added authorization check.
  * Updated l10n for iservchk.
  * Localized stsbl-scmc-reset-masterpassword.
  * stsbl-scmc-reset-masterpassword: Fixed answer handling.
  * Added missing l10n strings.

  iserv: Dieses Modul stellt eine einfach zu bedienende
    Verbindungsschnittstelle zu dem Zeugnisserver WZeugnis zur Verfügung.
    Derzeit wird das Hoch- und Herunterladen von Zeugnisdaten unterstützt. Das
    Modul ist nun auf diesem Server installiert, um es zu verwenden, müssen
    Master- und Passwort, sowie zu verwendende Server konfiguriert werden.
    Das Modul wird in den nächsten Wochen noch verbessert und unter anderem
    mit einem Reverse-Proxy für den Zugriff auf den Zeugnisserver erweitert.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Mon, 12 Jun 2017 05:22:35 +0200

stsbl-iserv-scmc (17.01.02-1) experimental; urgency=low

  * Initial release.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Mon, 02 Jan 2017 19:10:34 +0100
